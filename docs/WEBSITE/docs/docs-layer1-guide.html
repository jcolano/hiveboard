<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Layer 1 â€” What to Expect â€” HiveBoard Docs</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DESIGN TOKENS (HiveBoard system)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
    --accent: #c2410c;
    --accent-dim: rgba(194, 65, 12, 0.06);
    --accent-hover: #a93b0b;
    --accent-light: rgba(194, 65, 12, 0.1);
    --font-mono: 'IBM Plex Mono', monospace;
    --font-sans: 'Plus Jakarta Sans', sans-serif;
    --radius-sm: 6px;
    --radius-md: 10px;
    --bg-deep: #f5f3ef;
    --bg-primary: #ffffff;
    --bg-card: #ffffff;
    --bg-elevated: #fafaf8;
    --bg-hover: #f0eeea;
    --border: #e2e0db;
    --border-subtle: #eceae5;
    --text-primary: #1a1a1a;
    --text-secondary: #4a4a4a;
    --text-muted: #8a8a8a;
    --success: #16a34a;
    --success-dim: rgba(22, 163, 74, 0.08);
    --error: #dc2626;
    --error-dim: rgba(220, 38, 38, 0.06);
    --warning: #d97706;
    --warning-dim: rgba(217, 119, 6, 0.08);
    --info: #2563eb;
    --info-dim: rgba(37, 99, 235, 0.06);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: var(--font-sans);
    background: var(--bg-deep);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
}

@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes fade-in-up { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOP BAR
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.topbar {
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 24px; height: 56px;
    background: var(--bg-primary); border-bottom: 1px solid var(--border);
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
}
.topbar-left { display: flex; align-items: center; gap: 20px; }
.logo {
    display: flex; align-items: center; gap: 10px;
    font-family: var(--font-sans); font-weight: 800; font-size: 17px;
    letter-spacing: -0.5px; text-decoration: none; color: var(--text-primary);
}
.logo-hex {
    width: 28px; height: 28px; background: var(--accent);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.logo-hex-inner {
    width: 18px; height: 18px; background: var(--bg-primary);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
}
.logo span { color: var(--accent); }

.docs-badge {
    font-family: var(--font-mono); font-size: 11px; font-weight: 600;
    color: var(--accent); background: var(--accent-dim);
    padding: 3px 10px; border-radius: 4px;
    text-transform: uppercase; letter-spacing: 0.5px;
    border: 1px solid rgba(194, 65, 12, 0.12);
}

.topbar-right { display: flex; align-items: center; gap: 12px; }
.topbar-link {
    font-family: var(--font-sans); font-size: 13px; font-weight: 600;
    color: var(--text-secondary); text-decoration: none;
    padding: 7px 14px; border-radius: var(--radius-sm);
    transition: all 0.15s; border: 1px solid transparent;
}
.topbar-link:hover { background: var(--bg-hover); color: var(--text-primary); }
.topbar-link.primary {
    color: #fff; background: var(--accent); border-color: var(--accent);
}
.topbar-link.primary:hover { background: var(--accent-hover); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.docs-layout {
    display: flex; min-height: 100vh; padding-top: 56px;
}

/* â”€â”€â”€ LEFT SIDEBAR â”€â”€â”€ */
.docs-sidebar {
    width: 260px; flex-shrink: 0;
    background: var(--bg-primary);
    border-right: 1px solid var(--border);
    padding: 20px 12px;
    position: fixed; top: 56px; bottom: 0; left: 0;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
}
.docs-sidebar::-webkit-scrollbar { width: 4px; }
.docs-sidebar::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

.docs-nav-section {
    font-family: var(--font-sans); font-size: 10px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.8px;
    color: var(--text-muted); padding: 16px 12px 6px;
}
.docs-nav-section:first-child { padding-top: 0; }

.docs-nav-item {
    display: flex; align-items: center; gap: 10px;
    padding: 9px 12px; border-radius: var(--radius-sm);
    font-family: var(--font-sans); font-size: 13.5px; font-weight: 500;
    color: var(--text-secondary); text-decoration: none;
    transition: all 0.12s; border: 1px solid transparent;
}
.docs-nav-item:hover {
    background: var(--bg-hover); color: var(--text-primary);
}
.docs-nav-item.active {
    background: var(--accent-dim); color: var(--accent);
    font-weight: 600; border-color: rgba(194, 65, 12, 0.1);
}
.docs-nav-icon {
    width: 18px; height: 18px; flex-shrink: 0; opacity: 0.5;
    display: flex; align-items: center;
}
.docs-nav-icon svg { width: 18px; height: 18px; }
.docs-nav-item.active .docs-nav-icon { opacity: 1; color: var(--accent); }

/* â”€â”€â”€ MAIN CONTENT â”€â”€â”€ */
.docs-main {
    flex: 1; margin-left: 260px; margin-right: 220px;
    padding: 40px 48px 80px;
    max-width: 820px;
    animation: fade-in 0.3s ease;
}

/* â”€â”€â”€ RIGHT TOC â”€â”€â”€ */
.page-toc {
    position: fixed; top: 96px; right: 24px;
    width: 196px; max-height: calc(100vh - 120px);
    overflow-y: auto; scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
}
.page-toc::-webkit-scrollbar { width: 3px; }
.page-toc::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

.page-toc-title {
    font-family: var(--font-sans); font-size: 10px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.8px;
    color: var(--text-muted); padding-bottom: 8px;
    border-bottom: 1px solid var(--border-subtle);
    margin-bottom: 8px;
}
.toc-link {
    display: block; padding: 4px 0;
    font-family: var(--font-sans); font-size: 12.5px; font-weight: 500;
    color: var(--text-muted); text-decoration: none;
    transition: color 0.15s;
    line-height: 1.4;
    border-left: 2px solid transparent;
    padding-left: 10px;
    margin-left: -1px;
}
.toc-link:hover { color: var(--text-primary); }
.toc-link.toc-h3 { padding-left: 22px; font-size: 12px; }
.toc-link.active {
    color: var(--accent); font-weight: 600;
    border-left-color: var(--accent);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONTENT TYPOGRAPHY
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.doc-content h1 {
    font-family: var(--font-sans); font-size: 28px; font-weight: 800;
    letter-spacing: -0.7px; line-height: 1.2;
    margin-bottom: 8px; color: var(--text-primary);
}
.doc-content h2 {
    font-family: var(--font-sans); font-size: 21px; font-weight: 700;
    letter-spacing: -0.3px; line-height: 1.3;
    margin-top: 48px; margin-bottom: 16px;
    padding-top: 24px; border-top: 1px solid var(--border-subtle);
    color: var(--text-primary);
}
.doc-content h2:first-of-type { margin-top: 32px; border-top: none; padding-top: 0; }

.doc-content h3 {
    font-family: var(--font-sans); font-size: 17px; font-weight: 700;
    margin-top: 32px; margin-bottom: 12px;
    color: var(--text-primary);
}
.doc-content h4 {
    font-family: var(--font-sans); font-size: 15px; font-weight: 700;
    margin-top: 24px; margin-bottom: 8px;
    color: var(--text-secondary);
}

.heading-anchor {
    color: var(--accent); text-decoration: none;
    opacity: 0; font-weight: 400; margin-left: 6px;
    transition: opacity 0.15s;
}
h2:hover .heading-anchor,
h3:hover .heading-anchor,
h4:hover .heading-anchor { opacity: 0.5; }
.heading-anchor:hover { opacity: 1 !important; }

.doc-content p {
    font-size: 15px; line-height: 1.7;
    color: var(--text-secondary); margin-bottom: 16px;
}
.doc-content strong { color: var(--text-primary); font-weight: 600; }

.doc-content a {
    color: var(--accent); text-decoration: none;
    border-bottom: 1px solid rgba(194, 65, 12, 0.2);
    transition: border-color 0.15s;
}
.doc-content a:hover { border-bottom-color: var(--accent); }

.doc-content ul, .doc-content ol {
    margin-bottom: 16px; padding-left: 24px;
}
.doc-content li {
    font-size: 15px; line-height: 1.7;
    color: var(--text-secondary); margin-bottom: 6px;
}
.doc-content li strong { color: var(--text-primary); }

/* Inline code */
.doc-content code {
    font-family: var(--font-mono); font-size: 13px; font-weight: 500;
    color: var(--accent); background: var(--accent-dim);
    padding: 2px 6px; border-radius: 4px;
    border: 1px solid rgba(194, 65, 12, 0.08);
}

/* Code blocks */
.code-block {
    position: relative; margin-bottom: 20px;
    background: #1e1e2e; border-radius: var(--radius-md);
    border: 1px solid #2a2a3e;
    overflow: hidden;
}
.code-block .code-lang {
    position: absolute; top: 0; right: 0;
    font-family: var(--font-mono); font-size: 10px; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.5px;
    color: #8888aa; background: rgba(255,255,255,0.05);
    padding: 4px 12px; border-radius: 0 var(--radius-md) 0 6px;
}
.code-block pre {
    margin: 0; padding: 20px 24px; overflow-x: auto;
    scrollbar-width: thin; scrollbar-color: #444 transparent;
}
.code-block pre::-webkit-scrollbar { height: 4px; }
.code-block pre::-webkit-scrollbar-thumb { background: #555; border-radius: 2px; }
.code-block pre code {
    font-family: var(--font-mono); font-size: 13px; line-height: 1.6;
    color: #cdd6f4; background: none; padding: 0; border: none; border-radius: 0;
}

/* Tables */
.table-wrapper {
    margin-bottom: 20px; overflow-x: auto;
    border: 1px solid var(--border); border-radius: var(--radius-md);
    scrollbar-width: thin;
}
.table-wrapper table {
    width: 100%; border-collapse: collapse;
    font-size: 14px;
}
.table-wrapper th {
    font-family: var(--font-sans); font-size: 12px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.4px;
    color: var(--text-muted); background: var(--bg-elevated);
    text-align: left; padding: 10px 16px;
    border-bottom: 1px solid var(--border);
}
.table-wrapper td {
    font-family: var(--font-sans); font-size: 14px; line-height: 1.5;
    color: var(--text-secondary); padding: 10px 16px;
    border-bottom: 1px solid var(--border-subtle);
    vertical-align: top;
}
.table-wrapper tr:last-child td { border-bottom: none; }
.table-wrapper tr:hover td { background: var(--bg-elevated); }
.table-wrapper td code {
    font-size: 12px;
}

/* Blockquotes / Callouts */
.callout {
    margin-bottom: 20px; padding: 16px 20px;
    border-left: 3px solid var(--border);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    background: var(--bg-elevated);
}
.callout p { margin-bottom: 8px; font-size: 14px; }
.callout p:last-child { margin-bottom: 0; }
.callout em { color: var(--text-muted); }

.callout-warning {
    border-left-color: var(--warning);
    background: var(--warning-dim);
}
.callout-tip {
    border-left-color: var(--success);
    background: var(--success-dim);
}
.callout-info {
    border-left-color: var(--info);
    background: var(--info-dim);
}
.callout-danger {
    border-left-color: var(--error);
    background: var(--error-dim);
}

/* HR */
.doc-content hr {
    border: none; height: 1px;
    background: var(--border); margin: 32px 0;
}

/* â”€â”€â”€ VERSION BADGE â”€â”€â”€ */
.doc-meta {
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 24px;
}
.doc-meta-badge {
    font-family: var(--font-mono); font-size: 11px; font-weight: 600;
    color: var(--text-muted); background: var(--bg-elevated);
    padding: 3px 10px; border-radius: 4px;
    border: 1px solid var(--border-subtle);
}

/* â”€â”€â”€ PREV / NEXT NAV â”€â”€â”€ */
.prev-next {
    display: flex; gap: 16px; margin-top: 48px;
    padding-top: 24px; border-top: 1px solid var(--border);
}
.prev-next-link {
    flex: 1; display: block; padding: 16px 20px;
    background: var(--bg-primary); border: 1px solid var(--border);
    border-radius: var(--radius-md); text-decoration: none;
    transition: all 0.15s;
}
.prev-next-link:hover {
    border-color: var(--accent); background: var(--accent-dim);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(194, 65, 12, 0.06);
}
.prev-next-link.next { text-align: right; }
.prev-next-label {
    font-family: var(--font-sans); font-size: 12px; font-weight: 600;
    color: var(--text-muted); display: block; margin-bottom: 4px;
}
.prev-next-title {
    font-family: var(--font-sans); font-size: 15px; font-weight: 700;
    color: var(--text-primary);
}
.prev-next-link:hover .prev-next-title { color: var(--accent); }

/* â”€â”€â”€ MOBILE MENU â”€â”€â”€ */
.mobile-menu-toggle {
    display: none; align-items: center; justify-content: center;
    width: 36px; height: 36px; border: 1px solid var(--border);
    border-radius: var(--radius-sm); background: var(--bg-primary);
    cursor: pointer; color: var(--text-secondary);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 1200px) {
    .page-toc { display: none; }
    .docs-main { margin-right: 0; }
}

@media (max-width: 860px) {
    .mobile-menu-toggle { display: flex; }
    .docs-sidebar {
        transform: translateX(-100%);
        transition: transform 0.25s ease;
        z-index: 50;
        box-shadow: none;
    }
    .docs-sidebar.open {
        transform: translateX(0);
        box-shadow: 8px 0 30px rgba(0,0,0,0.1);
    }
    .docs-main {
        margin-left: 0; padding: 28px 20px 60px;
    }
    .doc-content h1 { font-size: 24px; }
    .doc-content h2 { font-size: 19px; }
    .prev-next { flex-direction: column; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PRISM THEME OVERRIDES (dark code blocks)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.code-block .token.comment,
.code-block .token.prolog,
.code-block .token.doctype { color: #6c7086; }
.code-block .token.punctuation { color: #a6adc8; }
.code-block .token.property,
.code-block .token.tag,
.code-block .token.boolean,
.code-block .token.number { color: #fab387; }
.code-block .token.string,
.code-block .token.attr-value { color: #a6e3a1; }
.code-block .token.selector,
.code-block .token.attr-name,
.code-block .token.builtin { color: #89b4fa; }
.code-block .token.keyword { color: #cba6f7; }
.code-block .token.function { color: #89b4fa; }
.code-block .token.operator { color: #89dceb; }
.code-block .token.class-name { color: #f9e2af; }
.code-block .token.decorator { color: #f38ba8; }
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
    <div class="topbar-left">
        <a href="home.html" class="logo">
            <div class="logo-hex"><div class="logo-hex-inner"></div></div>
            Hive<span>Board</span>
        </a>
        <span class="docs-badge">Docs</span>
    </div>
    <div class="topbar-right">
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M3 5h12M3 9h12M3 13h12" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
        </button>
        <a href="https://github.com/hiveboard/hiveloop" class="topbar-link" target="_blank" rel="noopener">GitHub</a>
        <a href="home.html" class="topbar-link primary">Open Dashboard</a>
    </div>
</div>

<!-- LAYOUT -->
<div class="docs-layout">
    <!-- SIDEBAR -->
    <nav class="docs-sidebar" id="docsSidebar">
<div class="docs-nav-section">Getting Started</div>
<a class="docs-nav-item" href="user-manual.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><path d="M2 3.5A1.5 1.5 0 013.5 2H7a2 2 0 012 2v12.5l-.5-.5-3-3H3.5A1.5 1.5 0 012 11.5v-8z" stroke="currentColor" stroke-width="1.3"/><path d="M16 3.5A1.5 1.5 0 0014.5 2H11a2 2 0 00-2 2v12.5l.5-.5 3-3h2A1.5 1.5 0 0016 11.5v-8z" stroke="currentColor" stroke-width="1.3"/></svg></span><span>SDK Manual</span></a>
<a class="docs-nav-item" href="integration-guide.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><path d="M6 2v4M12 2v4M4 6h10v3a5 5 0 01-5 5 5 5 0 01-5-5V6zM9 14v3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg></span><span>Integration Guide</span></a>
<div class="docs-nav-section">Dashboard</div>
<a class="docs-nav-item" href="docs-dashboard-guide.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><rect x="2" y="2" width="14" height="14" rx="2" stroke="currentColor" stroke-width="1.3"/><path d="M2 7h14M7 7v9" stroke="currentColor" stroke-width="1.3"/></svg></span><span>Dashboard Guide</span></a>
<div class="docs-nav-section">Instrumentation</div>
<a class="docs-nav-item" href="docs-instrumentation-guide.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="1.3"/><circle cx="9" cy="9" r="4" stroke="currentColor" stroke-width="1.3"/><circle cx="9" cy="9" r="1" fill="currentColor"/></svg></span><span>Instrumentation</span></a>
<a class="docs-nav-item active" href="docs-layer1-guide.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><path d="M9 2L2 6l7 4 7-4-7-4zM2 12l7 4 7-4M2 9l7 4 7-4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg></span><span>Layer 1 Guide</span></a>
<div class="docs-nav-section">Rich Events</div>
<a class="docs-nav-item" href="docs-layer2-rich-events.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><path d="M10 2L3 10h5l-1 6 7-8h-5l1-6z" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg></span><span>Rich Events</span></a>
<a class="docs-nav-item" href="docs-layer2-llm-tracking.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><rect x="4" y="4" width="10" height="10" rx="1.5" stroke="currentColor" stroke-width="1.3"/><rect x="7" y="7" width="4" height="4" rx="0.5" stroke="currentColor" stroke-width="1.3"/><path d="M7 2v2M11 2v2M7 14v2M11 14v2M2 7h2M2 11h2M14 7h2M14 11h2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round"/></svg></span><span>LLM Tracking</span></a>
<a class="docs-nav-item" href="docs-operational-events.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><path d="M16 9h-3l-2 7L7 2 5 9H2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg></span><span>Operational Events</span></a>
<a class="docs-nav-item" href="docs-track-context.html"><span class="docs-nav-icon"><svg viewBox="0 0 18 18" fill="none"><circle cx="5" cy="5" r="2" stroke="currentColor" stroke-width="1.3"/><circle cx="13" cy="5" r="2" stroke="currentColor" stroke-width="1.3"/><circle cx="5" cy="13" r="2" stroke="currentColor" stroke-width="1.3"/><path d="M5 7v4M13 7c0 3-2 4-8 4" stroke="currentColor" stroke-width="1.3"/></svg></span><span>Track Context</span></a>

    </nav>

    <!-- MAIN CONTENT -->
    <main class="docs-main">
        <div class="doc-meta">
            <span class="doc-meta-badge">v0.1.0</span>
            <span class="doc-meta-badge">Updated Feb 2026</span>
        </div>
        <article class="doc-content">
<h1 id="hiveboard-user-manual-part-4-layer-1-integration-what-to-expect">HiveBoard â€” User Manual Part 4: Layer 1 Integration â€” What to Expect <a class="heading-anchor" href="#hiveboard-user-manual-part-4-layer-1-integration-what-to-expect" aria-label="Link to this section">#</a></h1>
<p><strong>Version:</strong> 0.1.0
<strong>Last updated:</strong> 2026-02-12</p>
<blockquote class="callout"><p><em>You've added <code>agent.task()</code> and <code>@agent.track()</code>. Here's what shows up, what doesn't, and how to read it.</em></p></blockquote>
<hr />
<h2 id="table-of-contents">Table of Contents <a class="heading-anchor" href="#table-of-contents" aria-label="Link to this section">#</a></h2>
<ol>
<li><a href="#1-what-layer-1-gives-you">What Layer 1 Gives You</a></li>
<li><a href="#2-your-first-task-on-the-dashboard">Your First Task on the Dashboard</a></li>
<li><a href="#3-reading-the-task-table">Reading the Task Table</a></li>
<li><a href="#4-reading-the-timeline">Reading the Timeline</a></li>
<li><a href="#5-reading-the-activity-stream-with-tasks">Reading the Activity Stream with Tasks</a></li>
<li><a href="#6-reading-the-stats-ribbon-with-tasks">Reading the Stats Ribbon with Tasks</a></li>
<li><a href="#7-the-detail-panel">The Detail Panel</a></li>
<li><a href="#8-what-you-dont-see-yet-and-why">What You Don't See Yet (and Why)</a></li>
<li><a href="#9-common-patterns-at-layer-1">Common Patterns at Layer 1</a></li>
<li><a href="#10-troubleshooting-layer-1">Troubleshooting Layer 1</a></li>
<li><a href="#11-deciding-when-to-add-layer-2">Deciding When to Add Layer 2</a></li>
</ol>
<hr />
<h2 id="1-what-layer-1-gives-you">1. What Layer 1 Gives You <a class="heading-anchor" href="#1-what-layer-1-gives-you" aria-label="Link to this section">#</a></h2>
<p>Layer 0 told you whether your agents were alive. Layer 1 tells you <strong>what they're doing</strong>.</p>
<p>With <code>agent.task()</code> and <code>@agent.track()</code> in place, the dashboard transitions from a health monitor to an operational monitor. Here's the before and after:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Dashboard element</th>
  <th>Layer 0 (before)</th>
  <th>Layer 1 (now)</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>Agent cards</strong></td>
  <td>Name, type, heartbeat</td>
  <td>+ current task name, PROCESSING badge while working</td>
</tr>
<tr>
  <td><strong>Stats Ribbon</strong></td>
  <td>Total Agents, Stuck</td>
  <td>+ Processing count, Success Rate, Avg Duration, Errors</td>
</tr>
<tr>
  <td><strong>Mini-Charts</strong></td>
  <td>Flat/empty</td>
  <td>Throughput and Success Rate bars populate</td>
</tr>
<tr>
  <td><strong>Task Table</strong></td>
  <td>&quot;No tasks&quot;</td>
  <td>Rows for every task â€” ID, agent, type, status, duration</td>
</tr>
<tr>
  <td><strong>Timeline</strong></td>
  <td>&quot;No timeline data&quot;</td>
  <td>Task lifecycle nodes with timestamps and durations</td>
</tr>
<tr>
  <td><strong>Activity Stream</strong></td>
  <td><code>agent_registered</code> only</td>
  <td>+ <code>task_started</code>, <code>task_completed</code>, <code>task_failed</code>, <code>action_started</code>, <code>action_completed</code></td>
</tr>
<tr>
  <td><strong>Cost Explorer</strong></td>
  <td>All zeros</td>
  <td>Still zeros (needs Layer 2 <code>task.llm_call()</code>)</td>
</tr>
</tbody>
</table></div>
<h3 id="what-questions-layer-1-answers">What questions Layer 1 answers <a class="heading-anchor" href="#what-questions-layer-1-answers" aria-label="Link to this section">#</a></h3>
<ul>
<li>What task is each agent working on right now?</li>
<li>How long do tasks take?</li>
<li>What percentage succeed vs fail?</li>
<li>When did a task start and finish?</li>
<li>What actions happened inside a task?</li>
<li>Which tasks are still running?</li>
<li>What's my throughput over the last hour?</li>
<li>Is task duration stable or increasing?</li>
</ul>
<hr />
<h2 id="2-your-first-task-on-the-dashboard">2. Your First Task on the Dashboard <a class="heading-anchor" href="#2-your-first-task-on-the-dashboard" aria-label="Link to this section">#</a></h2>
<p>After adding <code>agent.task()</code> and triggering a task, here's what you should see:</p>
<h3 id="agent-card-changes">Agent card changes <a class="heading-anchor" href="#agent-card-changes" aria-label="Link to this section">#</a></h3>
<p>The agent card in The Hive reflects task activity:</p>
<div class="code-block"><pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ my-agent               PROCESSING â”‚  â† was IDLE, now PROCESSING
â”‚ general  â— 2s ago                  â”‚
â”‚ â†³ my-agent-evt_a1b2c3              â”‚  â† current task ID appears
â”‚ â–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ªâ–ª                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>
<p>When the task completes, the badge returns to <strong>IDLE</strong> and the task link disappears. If the task fails, the badge shows <strong>ERROR</strong>.</p>
<h3 id="stats-ribbon-updates">Stats Ribbon updates <a class="heading-anchor" href="#stats-ribbon-updates" aria-label="Link to this section">#</a></h3>
<p>During task execution:</p>
<ul>
<li><strong>Processing</strong> count goes from 0 to 1 (blue)</li>
<li>After completion: Processing returns to 0</li>
<li><strong>Success Rate</strong> updates based on the outcome</li>
<li><strong>Avg Duration</strong> reflects the task's duration</li>
</ul>
<h3 id="activity-stream-events">Activity Stream events <a class="heading-anchor" href="#activity-stream-events" aria-label="Link to this section">#</a></h3>
<p>You'll see a pair of events for every task:</p>
<div class="code-block"><pre><code>â— task_started         just now
  my-agent &gt; my-agent-evt_a1b2c3
  Task my-agent-evt_a1b2c3 started

â— task_completed       just now
  my-agent &gt; my-agent-evt_a1b2c3
  Task my-agent-evt_a1b2c3 completed
</code></pre></div>
<p>If you've added <code>@agent.track()</code> on functions inside the task, you'll also see <code>action_started</code> / <code>action_completed</code> pairs between them.</p>
<h3 id="task-table-row">Task Table row <a class="heading-anchor" href="#task-table-row" aria-label="Link to this section">#</a></h3>
<p>A new row appears:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>TASK ID</th>
  <th>AGENT</th>
  <th>TYPE</th>
  <th>STATUS</th>
  <th>DURATION</th>
  <th>LLM</th>
  <th>COST</th>
  <th>TIME</th>
</tr>
</thead>
<tbody>
<tr>
  <td>my-agent-evt_a1b2</td>
  <td>my-agent</td>
  <td>heartbeat</td>
  <td>â— completed</td>
  <td>27.5s</td>
  <td>â€”</td>
  <td>â€”</td>
  <td>1m ago</td>
</tr>
</tbody>
</table></div>
<ul>
<li><strong>TASK ID</strong> â€” the ID you passed to <code>agent.task()</code>. Clickable â€” loads the timeline.</li>
<li><strong>TYPE</strong> â€” the <code>type</code> parameter from <code>agent.task()</code> (e.g. <code>&quot;heartbeat&quot;</code>, <code>&quot;webhook&quot;</code>, <code>&quot;task&quot;</code>)</li>
<li><strong>STATUS</strong> â€” <code>completed</code> (green dot), <code>failed</code> (red dot), or <code>processing</code> (blue dot, animated)</li>
<li><strong>DURATION</strong> â€” total time from task start to task end</li>
<li><strong>LLM</strong> â€” shows &quot;â€”&quot; until you add Layer 2 <code>task.llm_call()</code></li>
<li><strong>COST</strong> â€” shows &quot;â€”&quot; until you add Layer 2 <code>task.llm_call()</code></li>
</ul>
<h3 id="timeline">Timeline <a class="heading-anchor" href="#timeline" aria-label="Link to this section">#</a></h3>
<p>Click the task row and the Timeline loads:</p>
<div class="code-block"><pre><code>TIMELINE  my-agent-evt_a1b2  â± 27.5s  ğŸ¤– my-agent  âœ“ completed

   main started              27.5s                    main completed
       â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
   19:22:37.569                                      19:23:05.023
</code></pre></div>
<p>At Layer 1 with just <code>agent.task()</code> and no tracked actions, you'll see <strong>two nodes</strong> â€” task started and task completed â€” connected by a line showing the total duration. This is the task's &quot;bookends.&quot; The space between them is where action nodes will appear as you add <code>@agent.track()</code> to functions.</p>
<hr />
<h2 id="3-reading-the-task-table">3. Reading the Task Table <a class="heading-anchor" href="#3-reading-the-task-table" aria-label="Link to this section">#</a></h2>
<p>The Task Table is your primary navigation surface. Here's how to read it effectively.</p>
<h3 id="task-density">Task density <a class="heading-anchor" href="#task-density" aria-label="Link to this section">#</a></h3>
<p>Each row is one task execution. Over time, this table fills with your agent's work history. A healthy system shows steady rows with <code>completed</code> status and consistent durations.</p>
<p><strong>What to scan for:</strong></p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Pattern</th>
  <th>What it means</th>
</tr>
</thead>
<tbody>
<tr>
  <td>All rows show <code>completed</code> with similar durations</td>
  <td>System is healthy and consistent</td>
</tr>
<tr>
  <td>Duration varies widely (5s, 45s, 5s, 90s)</td>
  <td>Some tasks are hitting slow paths â€” investigate the outliers</td>
</tr>
<tr>
  <td>A row shows <code>processing</code> for a long time</td>
  <td>Task may be stuck â€” check the agent's heartbeat</td>
</tr>
<tr>
  <td>Several <code>failed</code> rows in a row</td>
  <td>Something broke â€” click one to see the timeline</td>
</tr>
<tr>
  <td>Rows only show 1-2 tasks total</td>
  <td>Task IDs may not be unique (see Troubleshooting, Section 10.1)</td>
</tr>
</tbody>
</table></div>
<h3 id="filtering-by-agent">Filtering by agent <a class="heading-anchor" href="#filtering-by-agent" aria-label="Link to this section">#</a></h3>
<p>Click an agent name in the AGENT column to filter the entire dashboard to that agent. The Task Table, Timeline, and Activity Stream all scope to the selected agent. Click &quot;Clear&quot; in the filter bar to return to the full view.</p>
<h3 id="task-types">Task types <a class="heading-anchor" href="#task-types" aria-label="Link to this section">#</a></h3>
<p>The TYPE column shows the <code>type</code> parameter from <code>agent.task()</code>. Use this to categorize work:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Type</th>
  <th>Typical meaning</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>heartbeat</code></td>
  <td>Periodic scheduled task (triggered by heartbeat/timer)</td>
</tr>
<tr>
  <td><code>webhook</code></td>
  <td>Triggered by an external webhook</td>
</tr>
<tr>
  <td><code>human</code></td>
  <td>Triggered by a human/operator</td>
</tr>
<tr>
  <td><code>task</code></td>
  <td>Generic task type</td>
</tr>
<tr>
  <td><code>api</code></td>
  <td>Triggered by an API call</td>
</tr>
</tbody>
</table></div>
<p>Choose type values that make sense for your system. They help you filter and understand what triggered each task.</p>
<hr />
<h2 id="4-reading-the-timeline">4. Reading the Timeline <a class="heading-anchor" href="#4-reading-the-timeline" aria-label="Link to this section">#</a></h2>
<p>The Timeline is a visual story of what happened inside a single task.</p>
<h3 id="41-the-bookend-pattern-task-only-no-tracked-actions">4.1 The bookend pattern (task only, no tracked actions) <a class="heading-anchor" href="#41-the-bookend-pattern-task-only-no-tracked-actions" aria-label="Link to this section">#</a></h3>
<p>When you've added <code>agent.task()</code> but haven't yet added <code>@agent.track()</code> to functions inside the task, the timeline shows two nodes:</p>
<div class="code-block"><pre><code>  [task started] â”€â”€â”€â”€â”€â”€â”€ 27.5s â”€â”€â”€â”€â”€â”€â”€ [task completed]
</code></pre></div>
<p>This tells you:</p>
<ul>
<li>The task ran âœ“</li>
<li>It took 27.5 seconds âœ“</li>
<li>It completed successfully âœ“</li>
</ul>
<p>What it doesn't tell you: what happened during those 27.5 seconds. That's what <code>@agent.track()</code> adds.</p>
<h3 id="42-with-tracked-actions">4.2 With tracked actions <a class="heading-anchor" href="#42-with-tracked-actions" aria-label="Link to this section">#</a></h3>
<p>Once you decorate functions with <code>@agent.track()</code>, intermediate nodes appear:</p>
<div class="code-block"><pre><code>  [started] â”€â”€ [fetch_data] â”€â”€ [score_lead] â”€â”€ [route_lead] â”€â”€ [completed]
    0.0s    0.2s    8.4s         1.2s    12.1s         0.1s      22.0s
</code></pre></div>
<p>Each tracked function becomes a node. Connectors show the duration between events. Now you can see:</p>
<ul>
<li>Which function took the longest (the bottleneck)</li>
<li>Where in the sequence something failed</li>
<li>Whether work is happening in the expected order</li>
</ul>
<h3 id="43-timeline-auto-scroll">4.3 Timeline auto-scroll <a class="heading-anchor" href="#43-timeline-auto-scroll" aria-label="Link to this section">#</a></h3>
<p>The timeline scrolls horizontally and <strong>auto-scrolls to the most recent events</strong> (rightmost position). This means:</p>
<ul>
<li>When you select a task, you see the latest events immediately</li>
<li>During a live task, new nodes scroll into view automatically</li>
<li>If you scroll left to inspect earlier events, auto-scroll pauses â€” the timeline stays where you put it</li>
<li>Scrolling back to the right edge re-enables auto-scroll</li>
</ul>
<h3 id="44-clicking-a-timeline-node">4.4 Clicking a timeline node <a class="heading-anchor" href="#44-clicking-a-timeline-node" aria-label="Link to this section">#</a></h3>
<p>Click any node to <strong>pin</strong> its detail panel below the timeline. The detail panel shows:</p>
<div class="code-block"><pre><code>â— Task ag_6ce5uncd comp...  19:23:40.375
  event    task_completed    duration    26.9s
</code></pre></div>
<p>Fields shown depend on the event type. For task events, you see event type and duration. For action events (Layer 1b), you'll see the function name and execution time. For LLM calls (Layer 2), you'll see model, tokens, and cost.</p>
<p>Click &quot;âœ• Close&quot; to dismiss the detail panel.</p>
<hr />
<h2 id="5-reading-the-activity-stream-with-tasks">5. Reading the Activity Stream with Tasks <a class="heading-anchor" href="#5-reading-the-activity-stream-with-tasks" aria-label="Link to this section">#</a></h2>
<p>With Layer 1, the Activity Stream becomes much more active. Here's what to expect.</p>
<h3 id="51-event-patterns">5.1 Event patterns <a class="heading-anchor" href="#51-event-patterns" aria-label="Link to this section">#</a></h3>
<p>A healthy task lifecycle produces this pattern:</p>
<div class="code-block"><pre><code>â— task_started       my-agent &gt; task-123      just now
â— task_completed     my-agent &gt; task-123      just now
</code></pre></div>
<p>A task with tracked actions:</p>
<div class="code-block"><pre><code>â— task_started       my-agent &gt; task-123      just now
â— action_started     my-agent &gt; task-123      just now    (fetch_data)
â— action_completed   my-agent &gt; task-123      just now    (fetch_data)
â— action_started     my-agent &gt; task-123      just now    (score_lead)
â— action_completed   my-agent &gt; task-123      just now    (score_lead)
â— task_completed     my-agent &gt; task-123      just now
</code></pre></div>
<p>A failed task:</p>
<div class="code-block"><pre><code>â— task_started       my-agent &gt; task-123      just now
â— action_started     my-agent &gt; task-123      just now    (fetch_data)
â— action_failed      my-agent &gt; task-123      just now    (fetch_data)  â† red
â— task_failed        my-agent &gt; task-123      just now                  â† red
</code></pre></div>
<h3 id="52-stream-filters-at-layer-1">5.2 Stream filters at Layer 1 <a class="heading-anchor" href="#52-stream-filters-at-layer-1" aria-label="Link to this section">#</a></h3>
<p>With tasks flowing, more stream filters become useful:</p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Filter</th>
  <th>What you see</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>all</strong></td>
  <td>Everything â€” heartbeats, tasks, actions</td>
</tr>
<tr>
  <td><strong>task</strong></td>
  <td>Only <code>task_started</code>, <code>task_completed</code>, <code>task_failed</code> â€” high-level work status</td>
</tr>
<tr>
  <td><strong>action</strong></td>
  <td>Only <code>action_started</code>, <code>action_completed</code>, <code>action_failed</code> â€” function-level detail</td>
</tr>
<tr>
  <td><strong>error</strong></td>
  <td>Only failure events â€” the stuff that needs attention</td>
</tr>
</tbody>
</table></div>
<p><strong>Tip:</strong> During normal monitoring, use <strong>task</strong> filter. It gives you the rhythm of work without the noise. Switch to <strong>all</strong> or <strong>action</strong> when investigating a specific issue.</p>
<h3 id="53-clickable-references">5.3 Clickable references <a class="heading-anchor" href="#53-clickable-references" aria-label="Link to this section">#</a></h3>
<p>Every event in the stream has clickable elements:</p>
<ul>
<li><strong>Agent name</strong> â€” click to filter the dashboard to that agent</li>
<li><strong>Task ID</strong> â€” click to load that task's timeline</li>
</ul>
<p>This makes the stream a navigation tool, not just a log viewer.</p>
<hr />
<h2 id="6-reading-the-stats-ribbon-with-tasks">6. Reading the Stats Ribbon with Tasks <a class="heading-anchor" href="#6-reading-the-stats-ribbon-with-tasks" aria-label="Link to this section">#</a></h2>
<p>With Layer 1 data flowing, the Stats Ribbon becomes an operational dashboard:</p>
<h3 id="61-key-metrics-at-layer-1">6.1 Key metrics at Layer 1 <a class="heading-anchor" href="#61-key-metrics-at-layer-1" aria-label="Link to this section">#</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Stat</th>
  <th>What it means now</th>
  <th>What to watch for</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>Processing</strong></td>
  <td>How many agents are actively working right now</td>
  <td>Should fluctuate. If always 0, tasks are very short or infrequent. If never drops, tasks may be getting stuck</td>
</tr>
<tr>
  <td><strong>Success Rate (1h)</strong></td>
  <td>Percentage of tasks completed without failure</td>
  <td>Establish your baseline (e.g. 95%). Drops below baseline = something changed</td>
</tr>
<tr>
  <td><strong>Avg Duration</strong></td>
  <td>Mean task execution time over the last hour</td>
  <td>Establish your baseline (e.g. 28s). Sudden increase = agents are slowing down</td>
</tr>
<tr>
  <td><strong>Errors</strong></td>
  <td>Number of agents whose last task failed</td>
  <td>Should be 0 during normal operation. Any number &gt; 0 warrants investigation</td>
</tr>
</tbody>
</table></div>
<h3 id="62-mini-charts">6.2 Mini-Charts <a class="heading-anchor" href="#62-mini-charts" aria-label="Link to this section">#</a></h3>
<p>Two mini-charts become meaningful:</p>
<ul>
<li><strong>Throughput (1h)</strong> â€” bars show tasks completed per time bucket. A steady pattern means consistent work. Gaps mean idle periods. Spikes mean burst activity.</li>
<li><strong>Success Rate</strong> â€” green bars per time bucket. Should be consistently full height. Dips indicate failure windows.</li>
</ul>
<h3 id="63-whats-still-empty">6.3 What's still empty <a class="heading-anchor" href="#63-whats-still-empty" aria-label="Link to this section">#</a></h3>
<ul>
<li><strong>LLM Cost/Task</strong> â€” flat line. Needs Layer 2 <code>task.llm_call()</code>.</li>
<li><strong>Cost (1h)</strong> â€” shows &quot;â€”&quot;. Same reason.</li>
<li><strong>Errors mini-chart</strong> â€” flat if everything is succeeding. This is good.</li>
</ul>
<hr />
<h2 id="7-the-detail-panel">7. The Detail Panel <a class="heading-anchor" href="#7-the-detail-panel" aria-label="Link to this section">#</a></h2>
<p>Clicking a timeline node opens the detail panel. Here's what it shows at each integration level:</p>
<h3 id="71-task-events-layer-1">7.1 Task events (Layer 1) <a class="heading-anchor" href="#71-task-events-layer-1" aria-label="Link to this section">#</a></h3>
<p>Clicking a <code>task_started</code> or <code>task_completed</code> node:</p>
<div class="code-block"><pre><code>â— Task my-agent comp...  19:23:40.375
  event      task_completed
  duration   26.9s
</code></pre></div>
<p>This is minimal â€” just the event type and duration. Useful for confirming timing but not much detail.</p>
<h3 id="72-action-events-layer-1b-with-agenttrack">7.2 Action events (Layer 1b â€” with @agent.track) <a class="heading-anchor" href="#72-action-events-layer-1b-with-agenttrack" aria-label="Link to this section">#</a></h3>
<p>Clicking an action node:</p>
<div class="code-block"><pre><code>â— reflect  19:23:42.100
  event      action_completed
  action     reflect
  duration   4.2s
</code></pre></div>
<p>Shows which function ran and how long it took. If the action failed, the error message appears here.</p>
<h3 id="73-what-youll-see-with-layer-2-preview">7.3 What you'll see with Layer 2 (preview) <a class="heading-anchor" href="#73-what-youll-see-with-layer-2-preview" aria-label="Link to this section">#</a></h3>
<p>Once you add <code>task.llm_call()</code> and other rich events, clicking an LLM node will show:</p>
<div class="code-block"><pre><code>â—† reasoning  19:23:43.500
  event       llm_call
  model       claude-sonnet-4-20250514
  tokens_in   1,240
  tokens_out  380
  cost        $0.0082
  duration    3.1s
</code></pre></div>
<p>And clicking a plan node:</p>
<div class="code-block"><pre><code>â— create_plan  19:23:44.200
  event       plan_created
  goal        Score and route incoming lead
  steps       3
</code></pre></div>
<p>That's the progression: Layer 1 gives you timing and structure. Layer 2 fills in the narrative.</p>
<hr />
<h2 id="8-what-you-dont-see-yet-and-why">8. What You Don't See Yet (and Why) <a class="heading-anchor" href="#8-what-you-dont-see-yet-and-why" aria-label="Link to this section">#</a></h2>
<p>At Layer 1, certain dashboard elements are intentionally empty. This is not a bug â€” it's expected.</p>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Element</th>
  <th>Shows</th>
  <th>Why it's empty</th>
  <th>What fills it</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>LLM column</strong> in Task Table</td>
  <td>&quot;â€”&quot;</td>
  <td>No <code>task.llm_call()</code> instrumented</td>
  <td>Layer 2: add <code>task.llm_call()</code> after each LLM API call</td>
</tr>
<tr>
  <td><strong>COST column</strong> in Task Table</td>
  <td>&quot;â€”&quot;</td>
  <td>Same</td>
  <td>Same</td>
</tr>
<tr>
  <td><strong>Cost (1h)</strong> in Stats Ribbon</td>
  <td>&quot;â€”&quot;</td>
  <td>No LLM cost data</td>
  <td>Layer 2</td>
</tr>
<tr>
  <td><strong>LLM Cost/Task</strong> mini-chart</td>
  <td>Flat</td>
  <td>No LLM cost data</td>
  <td>Layer 2</td>
</tr>
<tr>
  <td><strong>Cost Explorer</strong> view</td>
  <td>All zeros</td>
  <td>No LLM cost data</td>
  <td>Layer 2</td>
</tr>
<tr>
  <td><strong>Plan progress bar</strong> in Timeline</td>
  <td>Hidden</td>
  <td>No <code>task.plan()</code> calls</td>
  <td>Layer 2: add <code>task.plan()</code> and <code>task.plan_step()</code></td>
</tr>
<tr>
  <td><strong>Pipeline tab</strong> in Agent Detail</td>
  <td>Empty</td>
  <td>No <code>queue_provider</code>, <code>report_issue</code>, <code>todo</code>, <code>scheduled</code></td>
  <td>Layer 2: add pipeline instrumentation</td>
</tr>
<tr>
  <td><strong>Escalation/approval events</strong></td>
  <td>None in stream</td>
  <td>No <code>task.escalate()</code> or <code>task.request_approval()</code></td>
  <td>Layer 2: add at escalation points</td>
</tr>
<tr>
  <td><strong>LLM filter</strong> in Activity Stream</td>
  <td>No results</td>
  <td>No LLM events</td>
  <td>Layer 2</td>
</tr>
<tr>
  <td><strong>Pipeline filter</strong> in Activity Stream</td>
  <td>No results</td>
  <td>No pipeline events</td>
  <td>Layer 2</td>
</tr>
<tr>
  <td><strong>Human filter</strong> in Activity Stream</td>
  <td>No results</td>
  <td>No approval/escalation events</td>
  <td>Layer 2</td>
</tr>
</tbody>
</table></div>
<p>This is by design. HiveLoop is incremental â€” each layer adds value without requiring the others. The dashboard gracefully shows what's available and hides what isn't.</p>
<hr />
<h2 id="9-common-patterns-at-layer-1">9. Common Patterns at Layer 1 <a class="heading-anchor" href="#9-common-patterns-at-layer-1" aria-label="Link to this section">#</a></h2>
<h3 id="91-healthy-system">9.1 Healthy system <a class="heading-anchor" href="#91-healthy-system" aria-label="Link to this section">#</a></h3>
<div class="code-block"><pre><code>Stats Ribbon:  Processing: 0-1  |  Success Rate: 95-100%  |  Avg Duration: stable
Task Table:    Steady stream of completed rows, consistent durations
Timeline:      Clean start â†’ actions â†’ complete sequence
Activity:      Regular task_started / task_completed pairs
</code></pre></div>
<p>This is what normal looks like. Bookmark these numbers as your baseline.</p>
<h3 id="92-task-duration-creeping-up">9.2 Task duration creeping up <a class="heading-anchor" href="#92-task-duration-creeping-up" aria-label="Link to this section">#</a></h3>
<div class="code-block"><pre><code>Stats Ribbon:  Avg Duration: was 28s, now 45s
Task Table:    Recent rows show longer durations than older ones
Timeline:      One connector between nodes is much longer than the rest
</code></pre></div>
<p>Something is getting slower. If you have tracked actions, the timeline tells you which step is the bottleneck. If you only have task bookends, you need to add <code>@agent.track()</code> to the main functions to find where the time goes.</p>
<h3 id="93-intermittent-failures">9.3 Intermittent failures <a class="heading-anchor" href="#93-intermittent-failures" aria-label="Link to this section">#</a></h3>
<div class="code-block"><pre><code>Stats Ribbon:  Success Rate: dropped from 100% to 85%
Task Table:    Mix of completed and failed rows
Activity:      task_failed events appearing
</code></pre></div>
<p>Click a failed task row. Look at the timeline â€” which node is red? That's where it broke. Click the red node to see the error in the detail panel.</p>
<h3 id="94-agent-stuck-during-a-task">9.4 Agent stuck during a task <a class="heading-anchor" href="#94-agent-stuck-during-a-task" aria-label="Link to this section">#</a></h3>
<div class="code-block"><pre><code>Agent card:    STUCK badge (red, blinking)
Task Table:    One row shows &quot;processing&quot; with a very long duration
Timeline:      Nodes stop at some point â€” no completed node
Activity:      Last event is action_started or task_started with no matching completion
</code></pre></div>
<p>The agent stopped mid-task. Check your agent process (logs, container health, network). The dashboard shows you <em>where</em> it stopped. Your infrastructure tells you <em>why</em>.</p>
<h3 id="95-tasks-running-but-only-bookends-in-timeline">9.5 Tasks running but only bookends in timeline <a class="heading-anchor" href="#95-tasks-running-but-only-bookends-in-timeline" aria-label="Link to this section">#</a></h3>
<div class="code-block"><pre><code>Timeline:      [started] â”€â”€â”€ 27s â”€â”€â”€ [completed]   (no action nodes between)
Activity:      Only task_started / task_completed, no action events
</code></pre></div>
<p>This means either:</p>
<ul>
<li><code>@agent.track()</code> hasn't been added yet â€” add decorators to key functions</li>
<li>The tracked functions aren't being called in these particular tasks (e.g. heartbeat-triggered tasks that don't invoke reflection or planning)</li>
<li>The decorators aren't wired correctly (see Troubleshooting, Section 10)</li>
</ul>
<hr />
<h2 id="10-troubleshooting-layer-1">10. Troubleshooting Layer 1 <a class="heading-anchor" href="#10-troubleshooting-layer-1" aria-label="Link to this section">#</a></h2>
<h3 id="101-task-table-shows-only-1-row-per-agent-not-per-execution">10.1 Task Table shows only 1 row per agent (not per execution) <a class="heading-anchor" href="#101-task-table-shows-only-1-row-per-agent-not-per-execution" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> Multiple tasks have run, Activity Stream shows many <code>task_started</code> / <code>task_completed</code> pairs, but the Task Table shows only one row per agent.</p>
<p><strong>Cause:</strong> Task IDs are not unique per execution. If every task for agent &quot;main&quot; uses task ID &quot;main&quot;, the table collapses them into one row.</p>
<p><strong>Fix:</strong> Generate unique task IDs in your <code>agent.task()</code> call:</p>
<div class="code-block"><span class="code-lang">python</span><pre><code class="language-python"># âŒ Reuses agent name as task ID:
agent.task(agent_id, project=&quot;my-project&quot;)

# âœ… Unique per execution:
agent.task(f&quot;{agent_id}-{event_id}&quot;, project=&quot;my-project&quot;)
agent.task(f&quot;{agent_id}-{uuid.uuid4().hex[:8]}&quot;, project=&quot;my-project&quot;)
</code></pre></div>
<h3 id="102-task-table-says-quotno-tasksquot">10.2 Task Table says &quot;No tasks&quot; <a class="heading-anchor" href="#102-task-table-says-quotno-tasksquot" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> Activity Stream shows task events, Timeline renders, but Task Table is empty.</p>
<p><strong>Possible causes:</strong></p>
<ol>
<li><strong>Environment filter mismatch</strong> â€” the environment selector in the top bar may be set to a value that doesn't match your agent's environment. Try switching to the correct environment or check if an &quot;all&quot; option is available.</li>
<li><strong>Task events not reaching the query endpoint</strong> â€” check the HiveBoard server logs for errors on the tasks query.</li>
<li><strong>Project mismatch</strong> â€” events may be going to a different project than the dashboard is querying. Check the project filter if one is active.</li>
</ol>
<h3 id="103-no-action-events-between-task-start-and-end">10.3 No action events between task start and end <a class="heading-anchor" href="#103-no-action-events-between-task-start-and-end" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> Timeline shows only bookend nodes (started/completed). No action nodes in between.</p>
<p><strong>Possible causes:</strong></p>
<ol>
<li><strong><code>@agent.track()</code> not added</strong> â€” you've added <code>agent.task()</code> but haven't decorated any functions with tracking. This is expected â€” add decorators to your key functions.</li>
<li><strong>Tracked functions not called</strong> â€” the functions you decorated may not execute for every task type. For example, if you tracked <code>reflect()</code> and <code>create_plan()</code>, but the current task is a simple heartbeat that doesn't invoke those paths, no action events will appear. Trigger a task that exercises those paths.</li>
<li><strong>Decorator on class methods not wiring correctly</strong> â€” see Part 3, Section 6 for patterns. The decorator may be applied to the wrong method or shadowed by a subclass override.</li>
<li><strong><code>contextvars</code> not propagating</strong> â€” if the tracked function runs in a different thread than the task context was set in, the context variable may be <code>None</code>. This causes the <code>if task:</code> guard to silently skip. Verify with a debug log inside the decorated function.</li>
</ol>
<h3 id="104-task-shows-quotprocessingquot-forever">10.4 Task shows &quot;processing&quot; forever <a class="heading-anchor" href="#104-task-shows-quotprocessingquot-forever" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> A task row shows <code>processing</code> status and the duration keeps growing, but the agent card shows IDLE.</p>
<p><strong>Cause:</strong> The <code>agent.task()</code> context manager never exited cleanly â€” either:</p>
<ul>
<li>An exception was caught and swallowed without the context manager closing</li>
<li>The <code>try/finally</code> block for <code>clear_current_task()</code> is missing</li>
<li>The agent process crashed during the task (check logs)</li>
</ul>
<p><strong>Fix:</strong> Ensure <code>agent.task()</code> is used as a context manager (<code>with</code> statement) and <code>clear_current_task()</code> is in a <code>finally</code> block:</p>
<div class="code-block"><span class="code-lang">python</span><pre><code class="language-python">with agent.task(task_id) as task:
    set_current_task(task)
    try:
        do_work()
    finally:
        clear_current_task()
</code></pre></div>
<h3 id="105-duration-shows-0s-for-completed-tasks">10.5 Duration shows 0s for completed tasks <a class="heading-anchor" href="#105-duration-shows-0s-for-completed-tasks" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> Task completed but duration is 0s or negligibly small.</p>
<p><strong>Cause:</strong> The <code>agent.task()</code> context is being opened and closed immediately without the actual work happening inside it. The work may be happening outside the <code>with</code> block.</p>
<p><strong>Fix:</strong> Verify that all task work happens inside the <code>with agent.task()</code> block, not before or after it.</p>
<h3 id="106-events-rejected-with-quotinvalid_project_idquot">10.6 Events rejected with &quot;invalid_project_id&quot; <a class="heading-anchor" href="#106-events-rejected-with-quotinvalid_project_idquot" aria-label="Link to this section">#</a></h3>
<p><strong>Symptom:</strong> HiveBoard server or SDK logs show <code>Batch partially rejected: 0 accepted, 1 rejected. Errors: [{'error': 'invalid_project_id', 'message': 'Project X not found'}]</code></p>
<p><strong>Cause:</strong> The <code>project</code> parameter in <code>agent.task()</code> references a project that doesn't exist on the server.</p>
<p><strong>Fix (option A):</strong> Create the project on the server first:</p>
<div class="code-block"><span class="code-lang">bash</span><pre><code class="language-bash">curl -X POST http://localhost:8000/v1/projects \
  -H &quot;Authorization: Bearer your-api-key&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;slug&quot;: &quot;my-project&quot;, &quot;name&quot;: &quot;My Project&quot;}'
</code></pre></div>
<p><strong>Fix (option B):</strong> If auto-create is enabled on your HiveBoard instance (v0.2+), unknown project slugs are automatically created. Check your server version.</p>
<p><strong>Common mistake:</strong> Using the agent name as the project (e.g. <code>project=agent_id</code>). The project is an organizational grouping â€” use something like <code>&quot;my-app&quot;</code> or <code>&quot;sales-pipeline&quot;</code>, not the agent name.</p>
<hr />
<h2 id="11-deciding-when-to-add-layer-2">11. Deciding When to Add Layer 2 <a class="heading-anchor" href="#11-deciding-when-to-add-layer-2" aria-label="Link to this section">#</a></h2>
<p>Layer 1 gives you operational visibility. Layer 2 gives you the full narrative. Here's when you need it:</p>
<h3 id="youre-fine-at-layer-1-if">You're fine at Layer 1 if: <a class="heading-anchor" href="#youre-fine-at-layer-1-if" aria-label="Link to this section">#</a></h3>
<ul>
<li>You mainly need to know &quot;are tasks running and succeeding?&quot;</li>
<li>Task durations are your main performance indicator</li>
<li>You're in early development and just need basic health monitoring</li>
<li>You have separate LLM cost tracking (e.g. provider dashboard)</li>
</ul>
<h3 id="you-need-layer-2-when">You need Layer 2 when: <a class="heading-anchor" href="#you-need-layer-2-when" aria-label="Link to this section">#</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
  <th>Trigger</th>
  <th>What to add</th>
  <th>Why</th>
</tr>
</thead>
<tbody>
<tr>
  <td>&quot;How much is this costing me?&quot;</td>
  <td><code>task.llm_call()</code></td>
  <td>Without it, Cost Explorer is blank and you have no per-agent cost visibility</td>
</tr>
<tr>
  <td>&quot;The task failed but I don't know why&quot;</td>
  <td><code>task.llm_call()</code> with prompt/response previews</td>
  <td>The timeline shows <em>where</em> it failed, but not <em>what</em> the LLM returned</td>
</tr>
<tr>
  <td>&quot;The agent made a bad decision&quot;</td>
  <td><code>task.plan()</code> + <code>task.plan_step()</code></td>
  <td>See the agent's reasoning, step by step</td>
</tr>
<tr>
  <td>&quot;Approvals are piling up&quot;</td>
  <td><code>task.request_approval()</code> + <code>task.approval_received()</code></td>
  <td>Track the human-in-the-loop bottleneck</td>
</tr>
<tr>
  <td>&quot;The agent keeps retrying the same thing&quot;</td>
  <td><code>task.retry()</code></td>
  <td>See retry patterns in the timeline</td>
</tr>
<tr>
  <td>&quot;I need to see the work queue&quot;</td>
  <td><code>queue_provider</code> + <code>agent.todo()</code></td>
  <td>Pipeline tab and agent card enrichment</td>
</tr>
</tbody>
</table></div>
<h3 id="the-incremental-path">The incremental path <a class="heading-anchor" href="#the-incremental-path" aria-label="Link to this section">#</a></h3>
<p>You don't need to add everything at once. The highest-value Layer 2 addition is <code>task.llm_call()</code> â€” it unlocks the Cost Explorer and is usually 5-10 lines of code. Start there, validate on the dashboard, then add narrative events as you need them.</p>
<p>See Part 3, Section 8 for the full Layer 2 implementation guide.</p>

        </article>
        <div class="prev-next"><a class="prev-next-link prev" href="docs-instrumentation-guide.html"><span class="prev-next-label">â† Previous</span><span class="prev-next-title">Instrumentation</span></a><a class="prev-next-link next" href="docs-layer2-rich-events.html"><span class="prev-next-label">Next â†’</span><span class="prev-next-title">Rich Events</span></a></div>
    </main>

    <!-- RIGHT TOC -->
<nav class="page-toc"><div class="page-toc-title">On this page</div>
<a class="toc-link" href="#table-of-contents">Table of Contents</a>
<a class="toc-link" href="#1-what-layer-1-gives-you">1. What Layer 1 Gives You</a>
<a class="toc-link toc-h3" href="#what-questions-layer-1-answers">What questions Layer 1 answers</a>
<a class="toc-link" href="#2-your-first-task-on-the-dashboard">2. Your First Task on the Dashboard</a>
<a class="toc-link toc-h3" href="#agent-card-changes">Agent card changes</a>
<a class="toc-link toc-h3" href="#stats-ribbon-updates">Stats Ribbon updates</a>
<a class="toc-link toc-h3" href="#activity-stream-events">Activity Stream events</a>
<a class="toc-link toc-h3" href="#task-table-row">Task Table row</a>
<a class="toc-link toc-h3" href="#timeline">Timeline</a>
<a class="toc-link" href="#3-reading-the-task-table">3. Reading the Task Table</a>
<a class="toc-link toc-h3" href="#task-density">Task density</a>
<a class="toc-link toc-h3" href="#filtering-by-agent">Filtering by agent</a>
<a class="toc-link toc-h3" href="#task-types">Task types</a>
<a class="toc-link" href="#4-reading-the-timeline">4. Reading the Timeline</a>
<a class="toc-link toc-h3" href="#41-the-bookend-pattern-task-only-no-tracked-actions">4.1 The bookend pattern (task only, no tracked actions)</a>
<a class="toc-link toc-h3" href="#42-with-tracked-actions">4.2 With tracked actions</a>
<a class="toc-link toc-h3" href="#43-timeline-auto-scroll">4.3 Timeline auto-scroll</a>
<a class="toc-link toc-h3" href="#44-clicking-a-timeline-node">4.4 Clicking a timeline node</a>
<a class="toc-link" href="#5-reading-the-activity-stream-with-tasks">5. Reading the Activity Stream with Tasks</a>
<a class="toc-link toc-h3" href="#51-event-patterns">5.1 Event patterns</a>
<a class="toc-link toc-h3" href="#52-stream-filters-at-layer-1">5.2 Stream filters at Layer 1</a>
<a class="toc-link toc-h3" href="#53-clickable-references">5.3 Clickable references</a>
<a class="toc-link" href="#6-reading-the-stats-ribbon-with-tasks">6. Reading the Stats Ribbon with Tasks</a>
<a class="toc-link toc-h3" href="#61-key-metrics-at-layer-1">6.1 Key metrics at Layer 1</a>
<a class="toc-link toc-h3" href="#62-mini-charts">6.2 Mini-Charts</a>
<a class="toc-link toc-h3" href="#63-whats-still-empty">6.3 What's still empty</a>
<a class="toc-link" href="#7-the-detail-panel">7. The Detail Panel</a>
<a class="toc-link toc-h3" href="#71-task-events-layer-1">7.1 Task events (Layer 1)</a>
<a class="toc-link toc-h3" href="#72-action-events-layer-1b-with-agenttrack">7.2 Action events (Layer 1b â€” with @agent.track)</a>
<a class="toc-link toc-h3" href="#73-what-youll-see-with-layer-2-preview">7.3 What you'll see with Layer 2 (preview)</a>
<a class="toc-link" href="#8-what-you-dont-see-yet-and-why">8. What You Don't See Yet (and Why)</a>
<a class="toc-link" href="#9-common-patterns-at-layer-1">9. Common Patterns at Layer 1</a>
<a class="toc-link toc-h3" href="#91-healthy-system">9.1 Healthy system</a>
<a class="toc-link toc-h3" href="#92-task-duration-creeping-up">9.2 Task duration creeping up</a>
<a class="toc-link toc-h3" href="#93-intermittent-failures">9.3 Intermittent failures</a>
<a class="toc-link toc-h3" href="#94-agent-stuck-during-a-task">9.4 Agent stuck during a task</a>
<a class="toc-link toc-h3" href="#95-tasks-running-but-only-bookends-in-timeline">9.5 Tasks running but only bookends in timeline</a>
<a class="toc-link" href="#10-troubleshooting-layer-1">10. Troubleshooting Layer 1</a>
<a class="toc-link toc-h3" href="#101-task-table-shows-only-1-row-per-agent-not-per-execution">10.1 Task Table shows only 1 row per agent (not per execution)</a>
<a class="toc-link toc-h3" href="#102-task-table-says-no-tasks">10.2 Task Table says "No tasks"</a>
<a class="toc-link toc-h3" href="#103-no-action-events-between-task-start-and-end">10.3 No action events between task start and end</a>
<a class="toc-link toc-h3" href="#104-task-shows-processing-forever">10.4 Task shows "processing" forever</a>
<a class="toc-link toc-h3" href="#105-duration-shows-0s-for-completed-tasks">10.5 Duration shows 0s for completed tasks</a>
<a class="toc-link toc-h3" href="#106-events-rejected-with-invalid_project_id">10.6 Events rejected with "invalid_project_id"</a>
<a class="toc-link" href="#11-deciding-when-to-add-layer-2">11. Deciding When to Add Layer 2</a>
<a class="toc-link toc-h3" href="#youre-fine-at-layer-1-if">You're fine at Layer 1 if:</a>
<a class="toc-link toc-h3" href="#you-need-layer-2-when">You need Layer 2 when:</a>
<a class="toc-link toc-h3" href="#the-incremental-path">The incremental path</a>
</nav>

</div>

<!-- SCRIPTS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-toml.min.js"></script>
<script>
// Re-highlight after load
Prism.highlightAll();

// Mobile menu toggle
document.getElementById('mobileMenuToggle')?.addEventListener('click', () => {
    document.getElementById('docsSidebar').classList.toggle('open');
});

// Close sidebar on content click (mobile)
document.querySelector('.docs-main')?.addEventListener('click', () => {
    document.getElementById('docsSidebar').classList.remove('open');
});

// Active TOC tracking
(function() {
    const tocLinks = document.querySelectorAll('.toc-link');
    if (!tocLinks.length) return;
    
    const headings = [];
    tocLinks.forEach(link => {
        const id = link.getAttribute('href')?.slice(1);
        const el = id && document.getElementById(id);
        if (el) headings.push({ el, link });
    });
    
    function updateActive() {
        let current = headings[0];
        for (const h of headings) {
            if (h.el.getBoundingClientRect().top <= 100) current = h;
        }
        tocLinks.forEach(l => l.classList.remove('active'));
        if (current) current.link.classList.add('active');
    }
    
    window.addEventListener('scroll', updateActive, { passive: true });
    updateActive();
})();

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', e => {
        const target = document.querySelector(a.getAttribute('href'));
        if (target) {
            e.preventDefault();
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            history.pushState(null, '', a.getAttribute('href'));
        }
    });
});
</script>
</body>
</html>
